{
  "title": "SPF - Events",
  "head": "\n<link rel=\"stylesheet\" name=\"roboto\" href=\"//fonts.googleapis.com/css?family=Roboto:300,600,900|Roboto+Condensed:300,300italic,400,700\">\n<link rel=\"stylesheet\" name=\"wsk\" href=\"/spfjs/assets/vendor/wsk/0.4.0/styles/wsk.css\">\n<link rel=\"stylesheet\" name=\"octicons\" href=\"/spfjs/assets/vendor/octicons/2.1.2/octicons.css\">\n<link rel=\"stylesheet\" name=\"main\" href=\"/spfjs/assets/styles/main.css?t=2015-01-15T18%3A13%3A18-05%3A00\">\n\n",
  "body": {
    "content": "\n<main class=\"clear\">\n\n  <nav class=\"toc g-wide--1 g-medium--1\">\n    \n  \n  \n  \n    <p class=\"toc__title\">\n      <a href=\"/spfjs/documentation/\">Documentation</a>\n    </p>\n  \n\n<ol class=\"toc__list list-links\">\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/start/\">Get Started</a>\n      \n      \n    </li>\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/responses/\">Responses</a>\n      \n      \n    </li>\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/events/\">Events</a>\n      \n      \n    </li>\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/features/\">Features</a>\n      \n      \n        \n  \n  \n  \n\n<ol class=\"toc__list list-links\">\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/features/caching/\">Caching</a>\n      \n      \n    </li>\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/features/multipart/\">Multipart Responses</a>\n      \n      \n    </li>\n  \n    <li>\n      \n        <a href=\"/spfjs/documentation/features/prefetching/\">Prefetching</a>\n      \n      \n    </li>\n  \n</ol>\n\n      \n    </li>\n  \n</ol>\n\n  </nav>\n\n  \n  \n\n  \n\n    <article class=\"g-wide--3 g-wide--last g-medium--2 g-medium--last\">\n      <header class=\"page-header container\">\n        <h2 class=\"xxlarge text-divider\">Events</h2>\n        \n          <p class=\"page-header__excerpt g-wide--push-1 g-wide--pull-1\">\n            Handle SPF events and the navigation life cycle.\n          </p>\n        \n      </header>\n      <div class=\"container\">\n        <p>SPF is designed to give developers enough flexibility during navigation to\nboth control application logic and provide UI updates for things like progress\nbars.</p>\n\n<h2 id=\"navigation-life-cycle\">Navigation Life Cycle</h2>\n\n<p>A basic event flow diagram follows and a more detailed explanation is below:</p>\n<div class=\"highlight\"><pre><code class=\"language-text\" data-lang=\"text\">       Navigation Life Cycle            Event Dispatched\n                    +                                   \n                    |                                   \n                    |                                   \n                    +----------------------&gt;[ spfready ]\n                    |                                   \n                    |                                   \n+-------------------+                                   \n|                   |                                   \n|                   |                                   \n|     +----------------------------+                    \n|     |             |              |                    \n|  api|navigate  dom|click  history|popstate            \n|     |             |              |                    \n|     |             +------+-------+                    \n|     |                    |           +---&gt;[ spfclick ]\n|     |                    +-----------+                \n|     |                    |           +-&gt;[ spfhistory ]\n|     +-------------+------+                            \n|                   |                                   \n|                   |                                   \n|                   +--------------------&gt;[ spfrequest ]\n|                   |                                   \n|               send|request                            \n|                   |                                   \n|                   +--------------+                    \n|                   |              |                    \n|                   |       history|pushstate           \n|                   |              |                    \n|                   +--------------+                    \n|                   |                                   \n|                   |                                   \n|            receive|response                           \n|                   |                                   \n|                   +--------------------&gt;[ spfprocess ]\n|                   |                                   \n|                   |                                   \n|            process|response                           \n|                   |                                   \n|                   +-----------------------&gt;[ spfdone ]\n|                   |                                   \n|                   |                                   \n+-------------------+                                   \n                    |                                   \n                    |                                   \n                    v                                   \n</code></pre></div>\n<h2 id=\"event-descriptions\">Event Descriptions</h2>\n\n<p>All events in the <a href=\"../../api/\">API</a> are defined as <a href=\"../../api/#spf.event\">spf.Event</a> objects.  A list of\nthe events and their descriptions follows:</p>\n\n<p><strong><code>spfclick</code></strong><br>\nFired when handling a click on a valid link (e.g. one with a valid <code>spf-link</code>\nclass or parent element).  Use as an early indication that navigation will\nhappen or to provide element-level UI feedback.</p>\n\n<p><strong><code>spfhistory</code></strong><br>\nFired when handling a <code>popstate</code> history event, indicating the user has gone\nbackward or forward; similar to <code>spfclick</code>.</p>\n\n<p><strong><code>spfrequest</code></strong><br>\nFired before a request for navigation is sent.  Use to handle the beginning of\nnavigation and provide global-level UI feedback (i.e. start a progress bar).\nThis event is fired before a request is sent for all types of navigation:\nclicks, back/forward, and API calls.  (Note that this event is fired even if a\nresponse is fetched from cache and no actual network request is made.)</p>\n\n<p><strong><code>spfprocess</code></strong><br>\nFired when a response has been received, either from the network or from\ncache, before it is processed.  Use to update UI feedback (i.e. advance a\nprogress bar) and dispose event listeners before content is updated.</p>\n\n<p><strong><code>spfdone</code></strong><br>\nFired after response processing is done.  Use to finalize UI feedback (i.e.\ncomplete a progress bar) and initialize event listeners after content is\nupdated.</p>\n\n<h2 id=\"callbacks-and-cancellations\">Callbacks and Cancellations</h2>\n\n<p>If manually starting navigation with <a href=\"../../api/#spf.navigate\">spf.navigate</a>, then instead of\nhandling events you may pass callbacks in an object that conforms to the\n<a href=\"../../api/#spf.requestoptions\">spf.RequestOptions</a> interface. Almost all events and callbacks can be\ncanceled by calling <code>preventDefault</code> or returning <code>false</code>, respectively.  A\nlist of the events, their corresponding callbacks, and their cancel action\nfollows:</p>\n\n<table><thead>\n<tr>\n<th style=\"text-align: left\">Event</th>\n<th style=\"text-align: left\">Callback</th>\n<th style=\"text-align: left\">State</th>\n<th style=\"text-align: left\">Cancel</th>\n</tr>\n</thead><tbody>\n<tr>\n<td style=\"text-align: left\"><code>spfclick</code></td>\n<td style=\"text-align: left\"></td>\n<td style=\"text-align: left\">Link Clicked</td>\n<td style=\"text-align: left\">Ignore</td>\n</tr>\n<tr>\n<td style=\"text-align: left\"><code>spfhistory</code></td>\n<td style=\"text-align: left\"></td>\n<td style=\"text-align: left\">Back/Forward Clicked</td>\n<td style=\"text-align: left\">Ignore</td>\n</tr>\n<tr>\n<td style=\"text-align: left\"><code>spfrequest</code></td>\n<td style=\"text-align: left\"><code>onRequest</code></td>\n<td style=\"text-align: left\">Started; Sending Request</td>\n<td style=\"text-align: left\">Reload</td>\n</tr>\n<tr>\n<td style=\"text-align: left\"><code>spfprocess</code></td>\n<td style=\"text-align: left\"><code>onProcess</code></td>\n<td style=\"text-align: left\">Processing; Response Received</td>\n<td style=\"text-align: left\">Reload</td>\n</tr>\n<tr>\n<td style=\"text-align: left\"><code>spfdone</code></td>\n<td style=\"text-align: left\"><code>onDone</code></td>\n<td style=\"text-align: left\">Done</td>\n<td style=\"text-align: left\"></td>\n</tr>\n</tbody></table>\n\n      </div>\n      \n\n  \n\n\n\n\n\n\n<nav class=\"article-nav\">\n  \n    <a href=\"/spfjs/documentation/responses/\" class=\"article-nav-link article-nav-link--prev\">\n      <p class=\"article-nav-count\">Responses</p>\n      \n        <p class=\"article-nav-description\">An overview of SPF responses and how they are processed.</p>\n      \n    </a>\n  \n  \n    <a href=\"/spfjs/documentation/features/\" class=\"article-nav-link article-nav-link--next\">\n      <p class=\"article-nav-count\">Features</p>\n      \n        <p class=\"article-nav-description\">Learn about SPF features to enable high performance.</p>\n      \n    </a>\n  \n</nav>\n\n    </article>\n\n  \n\n\n  <section class=\"feedback\">\n    <footer class=\"container\"><div class=\"container\">\n      <p>\n        If you have feedback, comments, or questions about SPF, please send them\n        to <a href=\"mailto:spfjs@googlegroups.com\">spfjs@googlegroups.com</a>.\n        If you have bugs or feature requests, please file them on\n        <a href=\"https://github.com/youtube/spfjs/issues\">GitHub</a>. Join our\n        <a href=\"https://groups.google.com/group/spfjs\">mailing list</a> and\n        follow <a href=\"https://twitter.com/spfjs\">@spfjs</a> on Twitter for\n        updates.\n      </p>\n    </div></footer>\n  </section>\n\n</main>\n\n"
  },
  "attr": {
    "body": {
      "class": "documentation"
    }
  },
  "foot": "\n<script name=\"spf\" src=\"/spfjs/assets/vendor/spf/2.1.1/spf.js\"></script>\n<script name=\"main\" src=\"/spfjs/assets/scripts/main.js?t=2015-01-15T18%3A13%3A18-05%3A00\"></script>\n\n<script name=\"analytics\">\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n</script>\n<script>\n  if (window.location.hostname == 'youtube.github.io') {\n    ga('create', 'UA-52278317-1', 'auto');\n    ga('send', 'pageview');\n  }\n</script>\n\n"
}